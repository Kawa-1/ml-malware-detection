import csv
import shutil

from images_processing_model.data_preparation.paths import TRAIN_LABELS_PATH, DIVIDED_IMAGES_FOLDER_PATH, \
    IMAGES_FOLDER_PATH

path_to_train_labels = TRAIN_LABELS_PATH
directory_input = IMAGES_FOLDER_PATH
directory_output = DIVIDED_IMAGES_FOLDER_PATH

with open(TRAIN_LABELS_PATH + "/trainLabels.csv", newline='') as f:
    reader = csv.reader(f)
    data = dict(reader)

train_divided_dir_path = "../train_images_divided/"

for key, value in data.items():
    if key == "Id":
        continue
    orig_file = directory_input + "/train_images/" + key + ".png"
    destination = directory_output + "/" + value + "/" + key + ".png"
    shutil.copyfile(orig_file, destination)
